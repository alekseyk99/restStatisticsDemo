<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test REST API statistic</title>

</head>
<body>

    <script src="main.js"></script>

<script>
function sendTransaction(sum,container)
{                                      
    var Handler = function(Request)
    {
    container.innerHTML = "Status " + Request.status;
    }
    
    SendRequest("POST","/transactions",'{ "amount": '+document.getElementById('sum').value+', "timestamp" : ' + document.getElementById('timestamp').value +' }',Handler);
    
} 

function getStatistics(container)
{                                      
    var Handler = function(Request)
    {
    container.innerHTML = Request.responseText;
    }
    
    SendRequest("GET","/statistics","",Handler);
    
} 


</script>
    <h2>Test REST API Statistic</h2>

    <table>
	<tr>
<td>
<input type="text" id="sum" value="1.1"/>  <input type="text" id="timestamp"/>
<br>
<input type="button" value="Send" onclick="sendTransaction(document.getElementById('sum').value,document.getElementById('container'))" />
<br>
<span id=container>
result
</span>
</td>
</tr>
	<tr>
<td>
<input type="button" value="Statistics" onclick="getStatistics(document.getElementById('showStatistics'))" />
<br>
<span id=showStatistics>
result
</span>
</td>
</tr>


</table>
<script>
document.getElementById('timestamp').value= new Date().getTime();
</script>
</body>
</html>